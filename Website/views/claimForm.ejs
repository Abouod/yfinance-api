<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Petrol Claim Form</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="/styles/claimForm.css">

    <link rel="stylesheet" href="/styles/purchaseRequest.css">
    <!-- Include Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        
    <!-- Bootstrap Select CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta2/dist/css/bootstrap-select.min.css"
        rel="stylesheet">

    <!-- Include FontAwesome 5
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-xNwst97e2eJm9Pwes7xxN9MEChdGk3pMePz2mO7qYj9UJeS3uQW3on3O1Xh7xl3J5y7X0R3gmr0WvwA9qXvZhA=="
        crossorigin="anonymous" /> -->
        <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Bootstrap Select JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta2/dist/js/bootstrap-select.min.js"></script>
    <!-- Popperjs -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <!-- Include jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>

    <nav class="custom-navbar">
        <div class="navbar-container">
            <div class="logo-container">
                <img class="logo" src="/images/Sophic-Logo-rotating-globe-2.gif" alt="Sophic Logo">
                <span class="bar">|</span>
                <span class="navbar-text">Sophic RPA Document Automation</span> 
            </div>
            <div class="btn-group">
                <button type="button" class="btn custom-btn btn-primary dropdown-toggle" data-bs-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false">
                    <img src="/images/menu.png" alt="Bars Image">
                </button>
                <div class="dropdown-menu">
                    <a class="dropdown-item" href="/index"><i class="far fa-home"></i> Home Page</a>
                    <a class="dropdown-item" href="/userProfile/profile">User Profile</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="/auth/signout">Signout</a>
                </div>
            </div>
        </div>
    </nav>

<form id="createClaimForm">
    <div class="form-container">
        <h2>Create Claim Form</h2>

        <!-- Add Month Dropdown -->
        <label for="month">Select Month:</label>
        <select id="month">
            <option value="1">January</option>
            <option value="2">February</option>
            <option value="3">March</option>
            <option value="4">April</option>
            <option value="5">May</option>
            <option value="6">June</option>
            <option value="7">July</option>
            <option value="8">August</option>
            <option value="9">September</option>
            <option value="10">October</option>
            <option value="11">November</option>
            <option value="12">December</option>
        </select>

        <!-- Add Year Dropdown -->
        <label for="year">Select Year:</label>
        <select id="year">
            <!-- Year options will be added dynamically using JavaScript -->
        </select>

        <div class="submit-button-container"> <!-- Container for submit button -->
            <button type="submit" href="/petrolClaim.html">Create</button>
        </div>
    </div>
</form> <!-- Close form tag -->
<div id="status-display"></div>
<div id="error-message" hidden></div>

<input type="text" class="form-control" id="fullName" value="<%= user.lastName + " " + user.firstName %>" hidden>
<input type="text" class="form-control" id="departmemt" value="<%= userDetails ? userDetails.department : '' %>" hidden>
<input type="text" class="form-control" id="position" value="<%= userDetails ? userDetails.jobtitle : '' %>" hidden>
<input type="text" class="form-control" id="manager" value="<%= userDetails ? userDetails.manager : '' %>" hidden>


<script src="/scripts/createClaim.js"></script>
<script src="/scripts/UiPathRobot.js"></script>
<script src="/scripts/empID.js"></script>

<script>
        document.addEventListener("DOMContentLoaded", function() {
            // Your JavaScript code here
            // Access dynamically generated elements here

            // Generate year options dynamically
            const currentYear = new Date().getFullYear();
            const yearDropdown = document.getElementById("year");
            for (let year = currentYear; year >= currentYear - 5; year--) {
                const option = document.createElement("option");
                option.text = year;
                option.value = year;
                yearDropdown.add(option);
            }

            // Set the default month to the current month
            const currentMonth = new Date().getMonth() + 1; // January is 0, so add 1
            document.getElementById("month").value = currentMonth;
        });
    </script>
</body>
</html>
